package org.Macro;

import java.util.ArrayList;
import java.util.List;

import javax.annotation.PostConstruct;
import javax.enterprise.event.Observes;
import javax.inject.Inject;

import org.TRX.bwapi.Facade.GameListener;
import org.TRX.bwapi.Facade.Events.OnUnitCreateEvent;

import bwapi.Race;
import bwapi.Unit;
import bwapi.UnitType;

public class UnitProductionManager {

	@Inject
	GameListener gameListener;

	private List<Unit> commandCenters;
	private List<Unit> barracks;
	private List<Unit> factorys;
	private List<Unit> starports;

	@PostConstruct
	private void init() {
		List<Unit> commandCenters = new ArrayList<Unit>();
		List<Unit> barracks = new ArrayList<Unit>();
		List<Unit> factorys = new ArrayList<Unit>();
		List<Unit> starports = new ArrayList<Unit>();
	}

	public void onUnitCreate(@Observes OnUnitCreateEvent onUnitCreateEvent) {
		Unit createdUnit = onUnitCreateEvent.getCreatedUnit();
		if (createdUnit.getType().isBuilding() == false) {
			return;
		}
		if (createdUnit.getType().getRace().equals(Race.Terran) == false) {
			return;
		}
		if (!createdUnit.getPlayer().equals(this.gameListener.getSelf())) {
			return;
		}

		if (createdUnit.getType() == UnitType.Terran_Command_Center) {
			this.commandCenters.add(createdUnit);
		}
		else if(createdUnit.getType() == UnitType.Terran_Barracks){
			this.barracks.add(createdUnit);
		}
		
		
	}
}
